package:
    name: iiboost

  {% if GIT_DESCRIBE_NUMBER|int == 0 %}
    version: {{GIT_DESCRIBE_TAG}}
  {% else %}
    # If we're using a non-tagged revision, append '.postN' to the version
    version: {{GIT_DESCRIBE_TAG}}.post{{GIT_DESCRIBE_NUMBER}}
  {% endif %}

source:
  #git_url: https://github.com/cbecker/iiboost
  #git_url: https://github.com/stuarteberg/iiboost
  #git_tag: HEAD
  
  path: ..

build:
  number: 0
  string: {{CONDA_PY}}_{{PKG_BUILDNUM}}_g{{GIT_FULL_HASH[:7]}}
  detect_binary_files_with_prefix: true

requirements:  
  build:
    - gcc 4.8.5 # [linux]
    - python 2.7*|>=3.5
    - python {{PY_VER}}*
    - numpy
    - itk 4.11*
    - jpeg
    - libtiff
    - libpng 1.6.28

  run:
    - libgcc # [linux]
    - python {{PY_VER}}*
    - numpy
    - itk 4.11*
    - jpeg
    - libtiff
    - libpng >=1.6.28

test:
  imports:
    - iiboost

  source_files:
    - testData
    - python/tests

  requires:
    - scikit-learn
    - matplotlib

about:
  home: http://github.com/cbecker/iiboost
  license: GPLv3
  summary: Learning Context Cues for Synapse Segmentation
